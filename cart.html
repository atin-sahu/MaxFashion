<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <script>
        $(function () {
            $("#header").load("Nav_Bar.html");
            // $("#footer").load("footer.html");
        });
    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <style>
        #subtotal{
            display: flex;
        }
    </style>

    <title>Document</title>
</head>
<body>
    <div id="header"></div>
    <div class="container mt-5" style="width: 80%;">
        <div>
            <h4>Your Shopping Basket ( <span id="no_items"></span> Items )</h4>
        </div>
        <div class="mt-5 border border-warning" style="font-size: 12px;">
            <ul class="pt-1">Get the offer
                <li> Flat 200 Off on shopping worth 1999 and above. Code- MAX200</li>
                <li>Flat 200 Off on shopping worth 1499 and above. Code- NEW200 (First purchase only)</li>
            </ul>
        </div>
    </div>
    <div class="container " style="width: 80%;">
        <div class="row ">
            <div class="col-12 col-sm-12 col-md-8 ">

                <table>
                    <thead class="">
                        <tr>
                            <td>Item</td>
                            <td class="ps-2">Description</td>
                            <td>Price</td>
                            <!-- <td>Quantity</td>
                            <td>Total Price</td> -->
                        </tr>
                        <tr>
                            <td><span style="color: #303AB2;font-size: 25px;font-weight: 700;">ma</span><span style="color: red;font-size: 25px;font-weight: 700;">x</span></td>
                        </tr>
                    </thead>
                    <tbody >
                        
        
                    </tbody>
                </table>
            </div>
            <div class="col-12 col-sm-12 col-md-4 border" id="total_price">
                
                <div style="display: flex;justify-content: space-between;">
                    <div >
                        <p style="color: #8C9196; font-size: 15px;">Subtotal:</p>
                    </div>
                    <div>
                        <p id="subTotal" style="color: #8C9196;font-size: 15px;">₹</p>
                    </div>
                </div>

                <div style="display: flex;justify-content: space-between;">
                    <div >
                        <p style="color: #8C9196;font-size: 15px;"> Standard Ground Shipping:</p>
                    </div>
                    <div>
                        <p  style="color: #00B037;font-size: 15px;">₹99</p>
                    </div>
                </div>


                <div style="display: flex;justify-content: space-between;">
                    <div >
                        <p style="color: #8C9196;font-size: 15px;">Offer Savings:</p>
                    </div>
                    <div>
                        <p  style="color: #00B037;font-size: 15px;"> ₹0</p>
                    </div>
                </div>


                <div style="display: flex;justify-content: space-between;">
                    <div >
                        <h4>TOTAL</h4>
                    </div>
                    <div>
                        <p id="subTotal"></p>
                    </div>
                </div>
                <center>
                    <button class="w-100 border-0 pt-2 pb-2" style="background-color: #303AB2;color: white;">Proceed to Checkout</button>
                </center>



            
            </div>
        </div>
    </div>
    
</body>
</html>
<script>
    var cartArr = JSON.parse(localStorage.getItem('cartItems'));
    // console.log(cartArr);
    cartArr.map(function(data){
        var tr = document.createElement('tr');
        
        var td1 = document.createElement('td');
        var image = document.createElement('img');
        image.style.width = '130px';
        image.style.height = '150px';
        image.setAttribute('src',data.image_url);
        td1.append(image);

        var td2 = document.createElement('td');
        td2.style.verticalAlign = 'Top';
        td2.style.paddingLeft = '10px'
        
        var name = document.createElement('h5');
        name.textContent = data.name;
        name.style.fontSize = '14px';
        name.style.fontWeight = '700';
         
        
        var color = document.createElement('p');
        color.textContent = "Color: red";
        color.style.fontSize = '13px'
        color.style.margin = '0px 0px 0px 0px'
        
        var size = document.createElement('p');
        size.textContent = 'Size: M';
        size.style.fontSize = '13px'
        size.style.paddingTop = '-10px'

        var remove = document.createElement('p');
        remove.textContent = 'Remove';
        remove.style.margin = '65px 0px 0px 0px';
        remove.style.fontSize = '12px';
        remove.style.color = 'grey';
        remove.addEventListener('click',function(){
            delete(data);
        })

        td2.append(name,color,size,remove);




        var td3 = document.createElement('td');
        td3.textContent = "₹"+data.price;
        td3.style.verticalAlign = 'Top';
        td3.style.fontWeight = '500';

        tr.append(td1,td2,td3);
        document.querySelector("tbody").append(tr);



        //total price section
        // var div = document.createElement('div');

        // var div1 = document.createElement('div');
        // div1.setAttribute('id','subtotal');

        // var div1_one_sub = document.createElement('p');
        // div1_one_sub.textContent = "subtotal";

        // var div1_one_price = document.createElement('p');
        // div1_one_price.textContent = "123";

        // div.append(div1_one_sub,div1_one_price);

        // document.getElementById("total_price").append(div);


    });

    // Total Price
    var total = cartArr.reduce(function(acc,cv){
        return acc + Number(cv.price)
    },0)
    // console.log(total);
    // for(var i = 0 ; i < total)
    document.getElementById('subTotal').textContent="₹"+ total;
    document.getElementById('no_items').textContent = cartArr.length;
</script>